
<style>
  h {display: block;font-size: 1.2em}
  div h {font-size: 1.5em;
  padding-left: 1em;}
  div div h { font-size: 1.2em; }
h, h2, h3 {margin:-2px -10px 5pt -2px;; color: f6e; border-bottom: 0.25pt solid #f6e;
font-weight: normal; text-indent: 2pt; background: #f3d1; padding: 2pt;}

div.collaspe {
  min-height: 0;
  min-width:0;
height: 20pt; overflow:hidden;
}
div.collaspe
div.collaspe div,
div.collaspe pre{ display: none; }

</style>
    <BR>
    <% t = @files.count %>
    <% @files.each do |filename, filepath| %>
      <div  <%= raw (t-=1).zero? || 'class="collaspe"' %>>
      <h onclick="this.parentNode.classList.toggle('collaspe');">
        <a href="/dev/tree/app/assets/javascripts/<%= filepath %>">
        <%= filename %>
        </a>
      </h><BR>
      <%= render 'browse_file', file: filepath %>
      <BR>
      </div>
    <% end %>
